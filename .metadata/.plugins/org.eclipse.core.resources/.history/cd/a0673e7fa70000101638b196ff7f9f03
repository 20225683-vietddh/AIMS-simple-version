package model;

import java.util.*;

public class Store {
	private Map<Media, Integer> itemsInStore = new HashMap<Media, Integer>();
	
	public void addMedia(Media media, int quantity) {
		if (media == null || quantity <= 0) {
			System.out.println("❌ Invalid media or the quantity must be greater than 0.");
			return;
		}
		
		itemsInStore.put(media, itemsInStore.getOrDefault(media, 0) + quantity);
		System.out.println("You've added " + quantity + " items '" + media.getTitle() + "' to store.");
	}
	
	public void removeMedia(Media media) {
		if (media == null) {
			System.out.println("❌ Invalid media.");
			return;
		}
		
		if (itemsInStore.containsKey(media)) {
			itemsInStore.remove(media);
			System.out.println("Deleted '" + media.getTitle() + "' from store.");
		} else {
			System.out.println("❌ Item '" + media.getTitle() + "' does not exist in current store.");
		}
	}
	
	public void show() {
		System.out.println();
		System.out.println("=== THE CURRENT STORE ===");
		for (Map.Entry<Media, Integer> entry : itemsInStore.entrySet() ) {
			Media media = entry.getKey();
			int currQuantity = entry.getValue();
			System.out.println(media.toString() + "CURRENT QUANTITY: " + currQuantity);
			System.out.println("---");
		}
		System.out.println();
	}
}
